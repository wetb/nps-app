<div class="survey-container">
  <div class="survey-card">
    <h2>Encuesta de Satisfacción</h2>
    
    <div *ngIf="error" class="alert alert-danger">
      {{ error }}
    </div>

    <div *ngIf="isLoading" class="loading-spinner">
      <div class="spinner"></div>
      <p>Cargando...</p>
    </div>

    <div *ngIf="!isLoading && !hasVoted" class="survey-content">
      <div class="survey-question">
        <h3>¿Cuán probable es que recomiende nuestro producto o servicio a un familiar o amigo?</h3>
      </div>

      <div class="score-selector">
        <div 
          *ngFor="let score of scores" 
          class="score-button" 
          [class.selected]="selectedScore === score"
          (click)="selectScore(score)"
        >
          {{ score }}
        </div>
      </div>

      <div class="score-labels">
        <span class="label-left">Muy improbable</span>
        <span class="label-right">Definitivamente lo recomendaría</span>
      </div>

      <div class="form-actions">
        <button 
          class="btn btn-primary" 
          [disabled]="selectedScore === null || isLoading"
          (click)="submitVote()"
        >
          Enviar Respuesta
        </button>
      </div>
    </div>
  </div>
</div>
